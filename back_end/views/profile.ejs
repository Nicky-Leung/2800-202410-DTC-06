<%- include ('templates/header') %>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <body>
    <div class="d-flex flex-column align-items-center text-center mt-5">
      <div class="card border border-dark">
        <div class="card-body d-flex flex-column align-items-center">
          <h3>
            <%= name %>
          </h3>
          <div class="profile-pic-container">
            <img src="<%= profilePicture %>" alt="pic goes here" class="profile-pic"
              style="border-radius: 50%; width: 150px; height: 150px;">

            <div class="overlay-card">
              <p style="color:white" class="ranking">
                <%= rank %>
              </p>
            </div>
          </div>
          <p class="mmr mt-4">MMR: <%= elo %>
          </p>
          <p class="lead">
            <%= bio %>
          </p>
          <div id="rating">
            <p>Sportsmanship rating: <%= sportsmanship %>/500</p>
          </div>
          <div id="match-history">
            Match History:
            <%= matchHistory %>
          </div>

          <div class="row">
            <button class="btn btn-primary m-2" onclick="location.href='/editProfile'" type="button">Edit
              Profile <i class="fas fa-edit"></i> </button>
          </div>
          <button class="btn btn-primary" onclick="location.href='/logout'" type="button">Log out</button>
          <button class="btn btn-primary btn-small m-2" onclick="location.href='/addFriends'"> users</button>
          <button class="btn btn-primary btn-small" onclick="location.href='/settings'"> Settings <i
              class="fas fa-cog"></i></button>
          <button class="btn btn-primary btn-small mt-1" onclick="location.href='/searchFriends'"> Search <i
              class="fas fa-search"></i></button>

        </div>

        <div id="easter-egg" class="easter-egg">
          <img src="/images/lebron.jpeg" alt="lebron" style="width: 50vw; height: 30vh;">
        </div>
      </div>
    </div>

    <%- include ('templates/footer') %>

      <!-- Include jQuery -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

      <!-- Include Bootstrap JS -->
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

      <script>
        console.log('Script loaded');

        let keysPressed = {};

        document.addEventListener('keydown', function (event) {
          keysPressed[event.key.toLowerCase()] = true;
          console.log('Keys pressed:', keysPressed); // Add this line for debugging

          if (keysPressed['*']) {
            console.log('Easter egg condition met'); // Add this line for debugging
            showEasterEgg();
          }
        });

        document.addEventListener('keyup', function (event) {
          keysPressed[event.key.toLowerCase()] = false;
          console.log('Keys released:', keysPressed); // Add this line for debugging
        });

        function showEasterEgg() {
          console.log('Showing Easter egg');
          const easterEgg = document.getElementById('easter-egg');
          easterEgg.style.display = 'block';

          setTimeout(() => {
            easterEgg.style.display = 'none';
          }, 5000);
        }

      </script>

   
  </body>

    <style>
      .profile-pic-container {
        position: relative;
        width: 150px;
        height: 150px;
      }

      .profile-pic {
        width: 100%;
        height: 100%;
        border-radius: 50%;
      }

      .overlay-card {
        position: absolute;
        bottom: -20px;
        left: 50%;
        transform: translateX(-50%);
        width: 100px;
        height: 50px;
        background-color: blue;
        border: 2px solid #000;
        border-radius: 50% / 25%;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);

      }


      @keyframes bounce {
        0% {
          transform: translate(-50%, -50%) scale(1);
        }

        25% {
          transform: translate(-50%, -50%) translateY(-20px) scale(1.1);
        }

        50% {
          transform: translate(-50%, -50%) translateY(0) scale(1);
        }

        75% {
          transform: translate(-50%, -50%) translateY(20px) scale(1.1);
        }

        100% {
          transform: translate(-50%, -50%) scale(1);
        }
      }

      @keyframes spin {
        0% {
          transform: translate(-50%, -50%) scale(1) rotate(0deg);
        }

        100% {
          transform: translate(-50%, -50%) scale(0.1) rotate(360deg);
        }
      }

      .easter-egg {
        display: none;
        padding: 20px;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 1000;
        animation: bounce 0.5s ease-in-out infinite, spin 3s linear infinite;
      }
    </style>

</html>
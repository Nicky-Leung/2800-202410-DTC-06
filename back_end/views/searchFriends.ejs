<%- include('templates/header') %>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <body>
    <div class="container mt-5">
      <h3>Search Friends</h3>
      <form id="searchForm" action="/searchFriends" method="GET" class="mb-4">
        <div class="input-group">
          <input type="text" name="query" class="form-control" placeholder="Enter friend's name" required>
          <div class="input-group-append">
            <button class="btn btn-primary" type="submit"><i class="fas fa-search"></i> Search</button>
          </div>
        </div>
      </form>

      <!-- Search Results -->
      <div id="searchResults">
        <% if (friends && friends.length> 0) { %>
          <ul class="list-group">
            <% friends.forEach(friend=> { %>
              <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                  <img src="<%= friend.profilePicture %>" alt="Profile Picture" class="img-thumbnail"
                    style="width: 50px; height: 50px; border-radius: 50%;">
                  <strong>
                    <%= friend.name %>
                  </strong>
                </div>
                <div>
                  <a href="/otherProfile/<%= friend._id %>" class="btn btn-link">View Profile</a>
                </div>
              </li>
              <% }) %>
          </ul>
          <% } else if (friends) { %>
            <p>No friends found matching your search criteria.</p>
            <% } %>
      </div>
    </div>

    <!-- Include jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Include Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </body>

  <%- include('templates/footer') %>